<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"/>
	<title>ajax myself</title>
	<script type="text/javascript">
	/*
	  1.创建Ajax对象
	  2.连接服务器
	  3.发送请求
	  4.接收返回值
	*/
	window.onload = function(){
         var oBtn = document.getElementById('btn1');
         oBtn.onclick = function(){
               //var oAjax = new XMLHttpRequest();
               //var oAjax = new ActiveXObject("Microsoft.XMLHTTP");  //IE6
               //创建Ajax对象
               var oAjax = null;
               if(window.XMLHttpRequest){
               	   oAjax = new XMLHttpRequest();
               }else{
               	   oAjax = new ActiveXObject("Microsoft.XMLHTTP");
               }
               //连接服务器
               //open(方法，url，是否异步)
               oAjax.open('GET','abc.txt',true);
               //发送请求
               oAjax.send();
               //接收返回信息
               /*
                  readyState的属性：请求状态
	                   0(未初始化)还没有调用open()方法
	                   1(载入)已调用send()方法完成，已收到全部响应内容
	                   2(载入完成)send()方法完成，已收到全部响应内容
	                   3(解析)正在解析相应内容
	                   4(完成)响应内容解析完成，可以在客户端调用了
	              status属性:请求结果
	              responseText
               */
               oAjax.onreadystatechange = function(){
                  //alert(oAjax.readyState);
                  if(oAjax.readyState == 4)  //仅仅等于结束，但没有说是一定成功
                  {
                  	   //alert(oAjax.status);  //200   表示成功
                  	   if(oAjax.status == 200)
                  	   {
                  	   	   alert('成功!'+'----'+oAjax.responseText);
                  	   }else{
                  	   	   alert('失败');
                  	   }
                  }
               }
         };

	}
	</script>
</head>
<body>
 <input type="button" id="btn1" value="读取文件"/>
</body>
</html>